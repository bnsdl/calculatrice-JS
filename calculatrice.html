<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style>

    #calculatrice {
      width: 120px;
      border: 1px solid black;
    }

    button {
      display:inline-block;
      margin: 5px 5px;
      padding: 3px 3px;
    }

    #ce {
      width: 100px;
      margin: 0 10px;
    }

    #egal {
      width:50px;
    }
    #enCours {
      border-top: 1px solid black;
      border-bottom: 1px solid black;
      height: 30px;
      background: lightgrey;
      text-align: center;
      line-height: 30px;
    }

    #resultat {
      border-top: 1px solid black;
      height: 30px;
      background: lightgrey;
      text-align: center;
      line-height: 30px;
    }

    </style>
  </head>
  <body>
    <div id="calculatrice">
      <button onclick="reset()" id="ce">CE</button>
      <button onclick="affiche(1)">1</button>
      <button onclick="affiche(2)">2</button>
      <button onclick="affiche(3)">3</button>
      <button onclick="addition()">+</button>
      <button onclick="affiche(4)">4</button>
      <button onclick="affiche(5)">5</button>
      <button onclick="affiche(6)">6</button>
      <button onclick="soustraction()">-</button>
      <button onclick="affiche(7)">7</button>
      <button onclick="affiche(8)">8</button>
      <button onclick="affiche(9)">9</button>
      <button onclick="multiplication()">*</button>
      <button onclick="affiche(0)">0</button>
      <button onclick="resultat()" id="egal">=</button>
      <button onclick="division()">/</button>
      <span>En cours</span><div id="enCours"></div>
      <span>Résultat</span><div id="resultat"></div>

    </div>
  </body>
  <script type="text/javascript">

var entreeUne = [];
var entreeDeux = [];
var operateur = [];

function affiche(i) {
      document.getElementById("enCours").textContent = document.getElementById("enCours").textContent + i;
}

function addition() {
  if (entreeUne.length === 0){
    operateur.push("+");
    entreeUne.push(document.getElementById("enCours").textContent);
    // console.log("premier nombre: " + entreeUne);
    // console.log("operateur: " + operateur);
    document.getElementById("enCours").textContent = null ;
  }
  else {
    // console.log("j'suis dans le else");
    // console.log("operateur début else: " + operateur);
    operateur = [];
    operateur.push("+");
    resultat();
    // console.log(entreeUne);
    // console.log(entreeDeux);
    entreeUne = [];
    entreeUne.push(document.getElementById("resultat").textContent);
    // console.log("entreeUne fin de else: " + entreeUne);
    // console.log("entreeDeux fin de else: " + entreeDeux);
    // console.log("operateur fin de else: " + operateur);
    document.getElementById("resultat").textContent = entreeUne ;
  }
}

function soustraction() {
  if (entreeUne.length === 0){
    operateur.push("-");
    entreeUne.push(document.getElementById("enCours").textContent);
    // console.log("premier nombre: " + entreeUne);
    // console.log("operateur: " + operateur);
    document.getElementById("enCours").textContent = null ;
  }
  else {
    // console.log("j'suis dans le else soustraction");
    // console.log("operateur début else: " + operateur);
    operateur = [];
    operateur.push("-");
    resultat();
    // console.log(entreeUne);
    // console.log(entreeDeux);
    entreeUne = [];
    entreeUne.push(document.getElementById("resultat").textContent);
    // console.log("entreeUne fin de else: " + entreeUne);
    // console.log("entreeDeux fin de else: " + entreeDeux);
    // console.log("operateur fin de else: " + operateur);
    document.getElementById("resultat").textContent = entreeUne ;
  }
}

function multiplication() {
  if (entreeUne.length === 0){
    operateur.push("*");
    entreeUne.push(document.getElementById("enCours").textContent);
    // console.log("premier nombre: " + entreeUne);
    // console.log("operateur: " + operateur);
    document.getElementById("enCours").textContent = null ;
  }
  else if (document.getElementById("enCours").textContent === "") {
    operateur = [];
    operateur.push("*");
    // console.log(entreeUne, operateur, entreeDeux);
  }
  else {
    // console.log("j'suis dans le else multiplication");
    // console.log("operateur début else: " + operateur);
    operateur = [];
    operateur.push("*");
    resultat();
    // console.log(entreeUne);
    // console.log(entreeDeux);
    entreeUne = [];
    entreeUne.push(document.getElementById("resultat").textContent);
    // console.log("entreeUne fin de else: " + entreeUne);
    // console.log("entreeDeux fin de else: " + entreeDeux);
    // console.log("operateur fin de else: " + operateur);
    document.getElementById("resultat").textContent = entreeUne ;
  }
}

function division() {
  if (entreeUne.length === 0){
    operateur.push("/");
    entreeUne.push(document.getElementById("enCours").textContent);
    // console.log("premier nombre: " + entreeUne);
    // console.log("operateur: " + operateur);
    document.getElementById("enCours").textContent = null ;
  }
  else if (document.getElementById("enCours").textContent === "") {
    operateur = [];
    operateur.push("/");
    // console.log(entreeUne, operateur, entreeDeux);
  }
  else {
    // console.log("j'suis dans le else division");
    // console.log("operateur début else: " + operateur);
    operateur = [];
    operateur.push("/");
    resultat();
    // console.log(entreeUne);
    // console.log(entreeDeux);
    entreeUne = [];
    entreeUne.push(document.getElementById("resultat").textContent);
    // console.log("entreeUne fin de else: " + entreeUne);
    // console.log("entreeDeux fin de else: " + entreeDeux);
    // console.log("operateur fin de else: " + operateur);
    document.getElementById("resultat").textContent = entreeUne ;
  }
}

function resultat() {
    entreeDeux.push(document.getElementById("enCours").textContent);
    document.getElementById("enCours").textContent = null;
    // console.log("deuxième nombre: " + entreeDeux);
    if (operateur == '+') {
      document.getElementById("resultat").textContent = (Number(entreeUne) + Number(entreeDeux));
      // console.log("Le résultat est: " + (Number(entreeUne) + Number(entreeDeux)));
      entreeUne = [];
      entreeDeux = [];
      entreeUne.push(document.getElementById("resultat").textContent);
    }
    else if (operateur == '-'){
      document.getElementById("resultat").textContent = (Number(entreeUne) - Number(entreeDeux));
      entreeUne = [];
      entreeDeux = [];
      entreeUne.push(document.getElementById("resultat").textContent);
    }
    else if (operateur == '*'){
      // console.log("else " + entreeUne, entreeDeux);
      document.getElementById("resultat").textContent = (Number(entreeUne) * Number(entreeDeux));
      // console.log(document.getElementById("resultat").textContent);
      entreeUne = [];
      entreeDeux = [];
      entreeUne.push(document.getElementById("resultat").textContent);
    }
    else {
      if (entreeDeux === 0){
        entreeDeux = 1;
      }
      document.getElementById("resultat").textContent = (Number(entreeUne) / Number(entreeDeux));
      entreeUne = [];
      entreeDeux = [];
      entreeUne.push(document.getElementById("resultat").textContent);
    }
}

function reset() {
  entreeUne = [];
  // console.log(entreeUne);
  entreeDeux = [];
  // console.log(entreeDeux);
  operateur = [];
  // console.log(operateur);
  document.getElementById("enCours").textContent = null;
  document.getElementById("resultat").textContent = null;
}

  </script>
</html>
